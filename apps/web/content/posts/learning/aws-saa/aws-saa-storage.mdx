---
title: "AWS SAA - Storage"
description: "S3 Transfer Acceleration, EFS, Snowball, Storage Gateway 등 AWS 스토리지 솔루션"
date: 2023-09-10
categories: ["aws-saa"]
tags: ["AWS", "SAA", "Storage", "S3", "EFS"]
author: "Carefreelife98"
thumbnail: "/images/aws-saa2.png"
published: true
---

# Storage

## S3 Transfer Acceleration

단일 Amazon S3 버킷에 데이터를 최대한 빨리 집계하려면 (고속 인터넷 연결, 글로벌 사이트 데이터 500GB, 운영 복잡성 최소화):

- 대상 S3 Bucket에서 **S3 Transfer Acceleration**을 켜고 **멀티 파트 업로드**를 사용하여 사이트 데이터를 대상 S3 버킷에 직접 업로드

## Amazon Athena - S3 쿼리

S3 버킷에 JSON 형식으로 저장된 로그 파일을 쿼리를 통해 분석하려면:

- **S3에 쿼리하는 건 AWS Athena**
- S3와 함께 Amazon Athena를 직접 사용하여 필요에 따라 쿼리를 실행

## EFS vs EBS

여러 AZ의 EC2 인스턴스에서 문서에 동시 액세스하려면:

- 두 EBS 볼륨의 기존 데이터를 **Amazon EFS**로 복사
- 새 문서를 Amazon EFS에 저장하도록 애플리케이션을 수정

> **EBS와 EFS의 차이점**
> - EBS는 단일 AZ 내부에서만 접근 가능
> - EFS는 다중 AZ에서 접근 가능

## AWS Snowball - 대용량 데이터 마이그레이션

NFS를 통해 On-Premise 환경에 저장하던 1MB ~ 500GB의 대용량 비디오 파일을 S3로 Migration하려면 (최소한의 네트워크 대역 사용, 최대한 빠르게):

- 가능한 한 최소한의 네트워크 대역폭을 사용하려면 오프라인에서 **Snowball Edge**로 올리는 것이 좋음
- AWS Snowball 및 AWS Snowball Edge는 기존 저장소에서 네트워크 대역폭이 충분하지 않을 때, 대용량 데이터 세트를 클라우드로 이전하는데 도움
- **Snowball 장치는 80TB**, **Snowball Edge는 100TB**까지 한번에 이동 가능

## AWS Storage Gateway

IDC에서 SMB 파일 서버 실행 중, 7일이 지나면 파일에 거의 Access하지 않는 경우:

- Amazon S3 파일 게이트웨이를 생성하여 회사의 스토리지 공간을 확장
- S3 수명 주기 정책을 생성하여 7일 후에 데이터를 **S3 Glacier Deep Archive**로 전환

> **사용 가능한 스토리지 공간의 확장 = Storage Gateway**
> Storage Gateway는 On-premise Storage와 AWS Storage를 합쳐 사실상 무제한의 Storage를 향유하는 것을 목적으로 하는 서비스

## EBS 스냅샷 복원

프로덕션 데이터를 테스트 환경에 복제하는 데 필요한 시간을 최소화하려면:

1. 프로덕션 EBS 볼륨의 EBS 스냅샷 생성
2. EBS 스냅샷에서 **EBS 빠른 스냅샷 복원** 기능 On
3. 스냅샷을 새 EBS 볼륨으로 복원
4. 테스트 환경의 EC2에 새 EBS 볼륨을 연결

> **참고**
> - 인스턴스 스토어 볼륨은 휘발성이라 꺼지면 데이터 삭제
> - EBS 다중 연결을 사용하게 되면 복제된 데이터를 수정할 때 프로덕션 환경에 영향
> - 스냅샷은 새로운 볼륨을 만드는 것 (만들어진 볼륨에 스냅샷을 복원하는 것이 아님)

## S3 Intelligent-Tiering

미디어 파일을 저장하고 검색하는 비용을 최소화하려면 (액세스 패턴이 예측 불가능한 경우):

- **S3 Intelligent-Tiering**
- 액세스 빈도 또는 불규칙한 사용 패턴을 모를 때 완벽한 사용 사례
- **예측할 수 없는 패턴 = S3 Intelligent Tiering**

---

**AWS-SAA 개인 학습 관련 포스트입니다.**
